<div class="modal modalBox">
        <div class="modal-dialog modal-xl" role="dialog" aria-hidden="true">
            <div class="modal-content">
                <div modalContent>
                    <div class="gridOverall">
                        <button type="button" class="closeButton" (click)="clickClose()">
                            <b>X</b>
                        </button>
    
                        <div class="gridTitle">
                            <b>
                                <span *ngIf="!editingDS">Create a new </span>
                                <span *ngIf="editingDS">Edit </span>
                                Datasource
                                <span *ngIf="editingDS"
                                    style="color:gray"
                                    >
                                    {{ selectedDatasource.name }}
                                </span>
                                obtained from File.
                            </b>
                            <clr-signpost>
                                <clr-icon shape="info-circle"
                                    clrSignpostTrigger>
                                </clr-icon>
                                    <clr-signpost-content *clrIfOpen
                                    [clrPosition]="'bottom-middle'">
                                    <h5 style="margin-top: 0; color:gray;">
                                        Help
                                    </h5>
                                    <p style="margin-top: 0; color:gray;">
                                        First identify the file, either by typing the name
                                        or by browsing.  Then click Preview to see the content.
                                        Last, click Add to create a new Datasource.  For Excel
                                        spreadsheet the Worksheet (tab) has to be identified as
                                        well.  Click Transpose to flip the rows and columns
                                        before loading the data.  Due to security, the folder where
                                        the file was read from cannot be recorded. Important: a
                                        copy will be made of the file, so it has to be reloaded
                                        for Canvas to see the latest changes to the file.
                                    </p>
                                </clr-signpost-content>
                            </clr-signpost>
                        </div>
    
                        <div class="gridFolderTitle">
                            Folder:
                        </div>
                        <div class="gridFolder">
                            <input type="text" [(ngModel)]="folderName"
                                placeholder="./assets/vega-datasets/"
                                class="selectFile"
                                >
                        </div>
    
                        <div class="gridFileNameTitle">
                            Filename:
                        </div>
                        <div class="gridFileName">
                            <input type="text" [(ngModel)]="fileName"
                                placeholder="stocks.csv"
                                class="selectFile"
                                >
                        </div>
    
                        <div class="gridButtonBrowse">
                            <button
                                type="button"
                                class="btn btn-secondary"
                                (dblclick)="clickFileBrowse()"
                                >
                                Browse
                            </button>
                        </div>
                        <div class="gridButtonBrowse">
                            <input class="btn btn-primary"
                                style="background-color:brown; border:none;color:white;opacity:0;"
                                type="file"
                                name="client-file"
                                id="get-files"
                                placeholder="Browse"
                                multiple
                                (change)="clickFileBrowse()"
                                />
                        </div>
    
                        <div class="gridExcelTitle">
                            Excel Worksheet:
                        </div>
                        <div class="gridExcel">
                            <div class="select">
                                <select id="selects_3" class="selectBox">
                                    <option>New York</option>
                                    <option>San Francisco</option>
                                    <option>Austin</option>
                                    <option>Paris</option>
                                    <option>Seattle</option>
                                </select>
                            </div>
                        </div>
    
                        <div class="gridTransposeTitle">
                            Transpose:
                        </div>
                        <div class="gridTranspose">
    
                            <span >
                                <input type="checkbox" id="checkrads_5">
                            </span>
                        </div>
    
                        <div class="gridStartatTitle">
                            Start at:
                        </div>
                        <div class="gridStartat">
                            <input type="text" id="formFields_7" placeholder="Start on line nr">
                        </div>
                        <div class="gridDatasourceNameTitle">
                            Name:
                        </div>
                        <div class="gridDatasourceName">
                            <input type="text"
                                id="formFields_7"
                                >
                                {{ existingDSName }}
                        </div>
    
                        <div class="gridDatasourceDescriptionTitle">
                            Description:
                        </div>
                        <div class="gridDatasourceDescription">
                            <input type="text"
                                id="formFields_7"
                                >
                        </div>
    
                        <div class="gridButtonPreview">
                            <button
                                type="button"
                                class="btn btn-secondary selectButton"
                                (click)="clickDSPreview()"
                                >
                                Preview
                            </button>
                        </div>
                        <div class="gridButtonAdd">
                            <button
                                type="button"
                                class="btn btn-primary"
                                (click)="clickAdd('Saved')"
                                >
                                <span *ngIf="!editingDS">Add</span>
                                <span *ngIf="editingDS">Save</span>
                            </button>
                        </div>
    
                        <div class="errorMessage"
                            >
                            {{ errorMessage }}
                        </div>
                        <div class="gridEditMessage" *ngIf="editingDS">
                            <i>
                                Note: data will be reloaded when you click Save.
                            </i>
                        </div>
    
                        <div class="gridButtonTransformation">
                            <button
                                type="button"
                                class="btn btn-link"
                                (click)="clickAdd('Transformation')"
                                >
                                <span *ngIf="!editingDS">Add</span>
                                <span *ngIf="editingDS">Save</span>
                                and open Transformations
                            </button>
                        </div>
    
                        <div class="gridPreviewTable">
                            <clr-datagrid>
    
                                <clr-dg-column *ngFor="let row of dataFieldNames">{{row}}</clr-dg-column>
                                <clr-dg-row *ngFor="let row of currentData">
    
                                    <clr-dg-cell *ngFor="let col of dataFieldNames; let i = index">
                                            {{ row[col] }}
                                    </clr-dg-cell>
                                </clr-dg-row>
    
                                <clr-dg-footer>
                                    {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                                    of {{pagination.totalItems}} rows
                                    <clr-dg-pagination #pagination [clrDgPageSize]="10"></clr-dg-pagination>
                                </clr-dg-footer>
    
                            </clr-datagrid>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    