<div class="modal modalBox">
        <div class="modal-dialog modal-xl" role="dialog" aria-hidden="true">
            <div class="modal-content modalContent">
    
                <div class="overall">
                    <div class="closeButton">
                        <button type="button" class="closeButton" (click)="clickClose()">
                            X
                        </button>
                    </div>
    
                    <div class="datasources" *ngIf="showDatasourcePopup">
                        Select a <b>Datasources</b> added before, and how it should be visualised:
    
                        <clr-dropdown class="datasourceDropdown" *ngIf="hasClicked">
                            <button
                                type="button"
                                class="btn btn-link btn-sm"
                                clrDropdownTrigger
                                >
                                Visualisation
                                <clr-icon shape="caret down" class="selectIcon1" size="12"></clr-icon>
                            </button>
                        </clr-dropdown>
    
                        <button *ngIf="hasClicked"
                            class="btn btn-sm btn-secondary datasourceButton"
                            (click)="clickContinue()">
                            Continue
                        </button>
    
                        <div class="datasourceList">
                            <nav
                                >
                                <div>
                                    <clr-datagrid>
                                        <clr-dg-column >Name</clr-dg-column>
                                        <clr-dg-column >Description</clr-dg-column>
                                        <clr-dg-row *clrDgItems="let row of currentDatasources; let i = index"
                                            (click)="clickDSrow(row.id, i)"
                                            >
                                            <clr-dg-cell>{{ row.name }}</clr-dg-cell>
                                            <clr-dg-cell>{{ row.description }}</clr-dg-cell>
                                        </clr-dg-row>
    
                                        <clr-dg-footer>
                                            {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                                            of {{pagination.totalItems}} rows
                                            <clr-dg-pagination #pagination [clrDgPageSize]="7"></clr-dg-pagination>
                                        </clr-dg-footer>
    
                                    </clr-datagrid>
                                </div>
                            </nav>
                        </div>
    
                        <div class="datasourcePreview" *ngIf="hasClicked">
                            <div>
                                <clr-datagrid class="gridIdentifyDataPreviewGrid">
    
                                    <clr-dg-column *ngFor="let row of dataFieldNames">{{row}}</clr-dg-column>
                                    <clr-dg-row *ngFor="let row of currentData">
    
                                        <clr-dg-cell *ngFor="let col of dataFieldNames; let i = index">
                                                {{ row[col] }}
                                        </clr-dg-cell>
                                    </clr-dg-row>
    
                                    <clr-dg-footer>
                                        {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                                        of {{pagination.totalItems}} rows
                                        <clr-dg-pagination #pagination [clrDgPageSize]="10"></clr-dg-pagination>
                                    </clr-dg-footer>
    
                                </clr-datagrid>
                            </div>
                        </div>
    
                    </div>
    
                    <div class="fieldList">
                        <nav
                            id="wrapper"
                            class="sidenav"
                            [style.width.px]="sideNavWidth"
                            [style.min-width.rem]="sideNavMinWidth"
                            >
    
                            <div class="selectedDatasource">
                                Fields for: {{ currentDatasources[0].name }}
                            </div>
    
                            <div>
                                <clr-datagrid>
                                    <clr-dg-column [clrDgField]="'filterPivotFields'">Name</clr-dg-column>
                                    <clr-dg-row *ngFor="let row of dataFieldNames">
                                        <clr-dg-cell
                                            id="fld"
                                            draggable="true"
                                            (dragstart)="dragstartField($event)"
                                            >
                                            {{ row }}
                                        </clr-dg-cell>
                                    </clr-dg-row>
                                </clr-datagrid>
                            </div>
                        </nav>
                    </div>
    
    
                    <div class="hasTitle">
                        <div class="checkbox">
                            <input type="checkbox" id="checkTitle" [(ngModel)]="containerHasTitle">
                            <label for="checkTitle">Has Title</label>
                        </div>
                    </div>
    
    
    
                    <div *ngIf="showTable" class="tableArea">
                        <clr-datagrid class="gridIdentifyDataPreviewGrid">
    
                            <clr-dg-column *ngFor="let row of dataFieldNames">{{row}}</clr-dg-column>
                            <clr-dg-row *ngFor="let row of currentData">
    
                                <clr-dg-cell *ngFor="let col of dataFieldNames; let i = index">
                                        {{ row[col] }}
                                </clr-dg-cell>
                            </clr-dg-row>
                        </clr-datagrid>
                    </div>

                    <div class="graphTypeMoreMsg">
                        Last refreshed: 2017/01/01 08:31
                    </div>
    
    
                    <div class="saveButton" *ngIf="!presentationMode">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            (click)="clickSave('Saved')"
                            >
                            Save
                        </button>
                    </div>
    
                    <span class="presentationNoSave" *ngIf="presentationMode"
                        >
                        Cannot save in Presentation Mode
                    </span>
    
                </div>
    
            </div>
        </div>
    </div>