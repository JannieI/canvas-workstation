<div class="modal modalBox">
        <div class="modal-dialog modal-xl" role="dialog" aria-hidden="true">
            <div class="modal-content modalContent">
    
                <button type="button" class="closeButton" (click)="clickClose()">
                    X
                </button>
     
                <div class="gridOverall">
                    <div class="gridTitle">
                        Dashboard Schedules: {{ dashboardName }} ( {{ dashboardState }})
                    </div>
                    <div class="gridSubTitle">
                        <i>
                            Each schedule will be executed on the given date and time, and a 
                            message with the Dashboard attached will be send to the relevant 
                            user(s).  The data in the Dashboard will also be refreshed.
                        </i>
                    </div>

                    <div class="gridRepeatFrequencyTitle">
                        <b>Frequency:</b>
                    </div>
                    <div class="select gridRepeatFrequency"
                        >
                        <select [(ngModel)]="selectedDashboardSchedules.repeatFrequency"
                            name="repeatFrequency"
                            [disabled]="!editing  &&  !adding"
                            >
                            <option>Daily</option>
                            <option>Weekly</option>
                            <option>Monthly</option>
                            <option>Yearly</option>
                        </select>
                    </div>

                    <div class="gridErrorMessage">
                        {{ errorMessage }}
                    </div>

                    <div class="gridRepeatsEveryTitle">
                        <b>Repeats Every:</b>
                    </div>
                    <div class="gridRepeatsEvery">
                        <input [(ngModel)]="selectedDashboardSchedules.repeatsEvery"
                            type="number" 
                            name="repeatsEvery"
                            placeholder="Repeats every so many units"
                            #repeatsEveryVar="ngModel"
                            required
                            [style.color]="!repeatsEveryVar.valid  &&  editing ? 'red' : 'gray'"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>

                    <div class="gridWeeklyMondayTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <b>Monday:</b>
                    </div>
                    <div class="gridWeeklyMonday" *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <input [(ngModel)]="selectedDashboardSchedules.weeklyMonday"
                            type="checkbox" 
                            name="weeklyMonday"
                            placeholder="For Weekly occurs on Monday"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridWeeklyTuesdayTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <b>Tueday:</b>
                    </div>
                    <div class="gridWeeklyTuesday" *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <input [(ngModel)]="selectedDashboardSchedules.weeklyTuesday"
                            type="checkbox" 
                            name="weeklyTuesday"
                            placeholder="For Weekly occurs on Tueday"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridWeeklyWednesdayTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <b>Wednesday:</b>
                    </div>
                    <div class="gridWeeklyWednesday" *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <input [(ngModel)]="selectedDashboardSchedules.weeklyWednesday"
                            type="checkbox" 
                            name="weeklyWednesday"
                            placeholder="For Weekly occurs on Wednesday"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridWeeklyThursdayTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <b>Thursday:</b>
                    </div>
                    <div class="gridWeeklyThursday" *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <input [(ngModel)]="selectedDashboardSchedules.weeklyThursday"
                            type="checkbox" 
                            name="weeklyThursday"
                            placeholder="For Weekly occurs on Thursday"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridWeeklyFridayTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <b>Friday:</b>
                    </div>
                    <div class="gridWeeklyFriday" *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <input [(ngModel)]="selectedDashboardSchedules.weeklyFriday"
                            type="checkbox" 
                            name="weeklyFriday"
                            placeholder="For Weekly occurs on Friday"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridWeeklySaturdayTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <b>Saturday:</b>
                    </div>
                    <div class="gridWeeklySaturday" *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <input [(ngModel)]="selectedDashboardSchedules.weeklySaturday"
                            type="checkbox" 
                            name="weeklySaturday"
                            placeholder="For Weekly occurs on Saturday"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridWeeklySundayTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <b>Sunday:</b>
                    </div>
                    <div class="gridWeeklySunday" *ngIf="selectedDashboardSchedules.repeatFrequency=='Weekly'">
                        <input [(ngModel)]="selectedDashboardSchedules.weeklySunday"
                            type="checkbox" 
                            name="weeklySunday"
                            placeholder="For Weekly occurs on Sunday"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>

                    <div class="gridMonthlyOnTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Monthly'"
                        >
                        <b>Repeats On:</b>
                    </div>
                    <div class="select gridMonthlyOn"  
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Monthly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.monthlyOn"
                            type="number" 
                            name="repeatsOn"
                            placeholder="Occurs Monthly on this day, ie 12th"
                            #monthlyOnVar="ngModel"
                            [style.color]="!monthlyOnVar.valid  &&  editing ? 'red' : 'gray'"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>

                    <div class="gridYearlyJanuaryTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>January:</b>
                    </div>
                    <div class="gridYearlyJanuary" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyJanuary"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in January"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlyFebruaryTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>February:</b>
                    </div>
                    <div class="gridYearlyFebruary" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyFebruary"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in February"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlyMarchTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>March:</b>
                    </div>
                    <div class="gridYearlyMarch" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyMarch"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in March"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlyAprilTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>April:</b>
                    </div>
                    <div class="gridYearlyApril" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyApril"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in April"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlyMayTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>May:</b>
                    </div>
                    <div class="gridYearlyMay" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyMay"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in May"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlyJuneTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>June:</b>
                    </div>
                    <div class="gridYearlyJune" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyJune"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in June"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlyJulyTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>July:</b>
                    </div>
                    <div class="gridYearlyJuly" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyJuly"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in July"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlyAugustTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>August:</b>
                    </div>
                    <div class="gridYearlyAugust" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyAugust"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in August"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlySeptemberTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>September:</b>
                    </div>
                    <div class="gridYearlySeptember" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlySeptember"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in September"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlyOctoberTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>October:</b>
                    </div>
                    <div class="gridYearlyOctober" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyOctober"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in October"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlyNovemberTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>November:</b>
                    </div>
                    <div class="gridYearlyNovember" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyNovember"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in November"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
                    <div class="gridYearlyDecemberTitle" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <b>December:</b>
                    </div>
                    <div class="gridYearlyDecember" 
                        *ngIf="selectedDashboardSchedules.repeatFrequency=='Yearly'"
                        >
                        <input [(ngModel)]="selectedDashboardSchedules.yearlyDecember"
                            type="checkbox" 
                            name="repeatsOn"
                            placeholder="For Monthly that occurs in December"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>

                    <div class="gridStartsOnTitle">
                        <b>Starts On:</b>
                    </div>
                    <div class="gridStartsOn">
                        <input [(ngModel)]="selectedDashboardSchedules.startsOn"
                            type="text" 
                            name="startsOn"
                            placeholder="Starting Date"
                            #startsOnVar="ngModel"
                            required
                            [style.color]="!startsOnVar.valid  &&  editing ? 'red' : 'gray'"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>

                    <div class="gridNeverEndsTitle">
                        <b>EndsNever:</b>
                    </div>
                    <div class="gridNeverEnds">
                        <input [(ngModel)]="selectedDashboardSchedules.endsNever"
                            name="neverEnds"
                            type="checkbox"
                            title="Schedule does not have an end date (T/F)"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
    
                    <div class="gridEndsAfterTitle">
                        <b>Ends After:</b>
                    </div>
                    <div class="gridEndsAfter">
                        <input [(ngModel)]="selectedDashboardSchedules.endsAfter"
                            type="number" 
                            name="endsAfter"
                            placeholder="Ends after n attempts"
                            #endsAfterVar="ngModel"
                            [style.color]="!endsAfterVar.valid  &&  editing ? 'red' : 'gray'"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>

                    <div class="gridEndsOnTitle">
                        <b>Ends On:</b>
                    </div>
                    <div class="gridEndsOn">
                        <input [(ngModel)]="selectedDashboardSchedules.endsOn"
                            type="text" 
                            name="endsOn"
                            placeholder="Date when the Schedule ends"
                            #endsOnVar="ngModel"
                            [style.color]="!endsOnVar.valid  &&  editing ? 'red' : 'gray'"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>
    
                    <div class="gridScheduleNameTitle">
                        <b>Name:</b>
                    </div>  
                    <div class="gridScheduleName">
                            <input [(ngModel)]="selectedDashboardSchedules.name"
                            type="text" 
                            name="name"
                            placeholder="Name of the Schedule"
                            #nameVar="ngModel"
                            required
                            minlength="2"
                            maxlength="250"
                            [style.color]="!nameVar.valid  &&  editing ? 'red' : 'gray'"
                            [disabled]="!editing  &&  !adding"
                            >
                    </div>

                    <div class="gridButtonCancel" *ngIf="editing  ||  adding">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            (click)="clickCancel()"
                            >
                            Cancel
                        </button>
                    </div> 
                    <div class="gridButtonAdd" *ngIf="editing  ||  adding">
                        <button
                            type="button"
                            class="btn btn-primary"
                            (click)="clickSave()"
                            >
                            Save
                        </button>
                    </div>
                    
                    <div class="gridButtonCancel" *ngIf="!editing  &&  !adding">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            (click)="clickEdit()"
                            >
                            Edit
                        </button>
                    </div> 
                    <div class="gridButtonAdd" *ngIf="!editing  &&  !adding">
                        <button
                            type="button"
                            class="btn btn-primary"
                            (click)="clickAdd()"
                            >
                            Add
                        </button>
                    </div>
    
                    <div class="gridSchedules">
    
                        <clr-datagrid>
                            <clr-dg-column>Delete</clr-dg-column>
                            <clr-dg-column>ID</clr-dg-column>
                            <clr-dg-column>Name</clr-dg-column>
                            <clr-dg-column>description</clr-dg-column>
                            <clr-dg-column>repeatFrequency</clr-dg-column>
                            <clr-dg-column>repeatsEvery</clr-dg-column>
                            <clr-dg-column>startsOn</clr-dg-column>
                            <clr-dg-column>EndsNever</clr-dg-column>
                            <clr-dg-column>EndsAfter</clr-dg-column>
                            <clr-dg-column>EndsOn</clr-dg-column>
    
                            <clr-dg-row *clrDgItems="let row of currentDashboardSchedules
                                let i = index"
                                [style.background-color]="(i == selectedRow)? '#123456' : 'white'"
                                [style.color]="(i == selectedRow)? 'white' : 'gray'"
                                (click)="clickRow(i, row.id)" 
                                >
                                <clr-dg-cell>
                                    <clr-icon shape="times" 
                                        class="selectIcon1" 
                                        size="12"
                                        (dblclick)="clickDelete(i, row.id)"
                                        >
                                    </clr-icon>
                                </clr-dg-cell>
                                <clr-dg-cell>{{row.id}}</clr-dg-cell>
                                <clr-dg-cell>{{row.name}}</clr-dg-cell>
                                <clr-dg-cell>{{row.description}}</clr-dg-cell>
                                <clr-dg-cell>{{row.repeatFrequency}}</clr-dg-cell>
                                <clr-dg-cell>{{row.repeatsEvery}}</clr-dg-cell>
                                <clr-dg-cell>{{row.startsOn}}</clr-dg-cell>
                                <clr-dg-cell>{{row.endsNever}}</clr-dg-cell>
                                <clr-dg-cell>{{row.endsAfter}}</clr-dg-cell>
                                <clr-dg-cell>{{row.endsOn}}</clr-dg-cell>
                            </clr-dg-row>

                            <clr-dg-footer>
                                {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                                of {{pagination.totalItems}} records
                                <clr-dg-pagination #pagination [clrDgPageSize]="4">
                                </clr-dg-pagination>
                            </clr-dg-footer>
                        </clr-datagrid>
                    </div>
    
                </div>
            </div>
        </div>
    </div>
    