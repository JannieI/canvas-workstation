<div class="modal modalBox">
	<div class="modal-dialog modal-xl" role="dialog" aria-hidden="true">
		<div class="modal-content modalContent">

            <div>
                <button type="button" class="closeButton" (click)="clickClose()">
                    X
                </button>

                <div class="row">

                    <div class="col-xs-2 currentDatasources">

                        <div class="currentDataHeader">
                            Current Data
                            <clr-icon
                                shape="plus"
                                size="16"
                                class="currentDataIcon"
                                (click)="clickShowAddData()"
                                >
                            </clr-icon>
                        </div>

                        <section class="sidenav-content">
                            <section class="nav-group">
                                <div
                                    *ngFor="let dat of currentDatasources"
                                    >
                                    <a
                                        id="p1"
                                        draggable="true"
                                        (dragstart)="dragstart_handler($event)"
                                        (dragend)="dragend_handler($event)"
                                        (click)="clickShowCurrentDetail(dat.name)">
                                        <clr-icon shape="block" class="dimensionField"></clr-icon>
                                        {{ dat.name }}
                                    </a>
                                </div>
                                <!-- <clr-icon shape="block" class="dateField"></clr-icon> -->
                                <!-- <clr-icon shape="bolt" class="metricField"> -->
                            </section>
                        </section>

                    </div>

                    <div class="col-xs-10 fileSelector">
                        <div class="wrapper">
                            <div class="fileSelectorTop">
                                <h3 class="fileSelectorHeader">File selection</h3>
                                <span>Please enter file name and location, or Browse: </span>
                                <input type="text" id="formFields_7" 
                                    placeholder="Folder/FileName"
                                    class="selectFile"
                                    >
                                <br>
                                Worksheet: 
                                <span class="select">
                                    <select id="selects_3" class="selectBox">
                                        <option>New York</option>
                                        <option>San Francisco</option>
                                        <option>Austin</option>
                                        <option>Paris</option>
                                        <option>Seattle</option>
                                    </select>
                                </span>
                                <br>
                                Name of Dataset:
                                <input type="text" id="formFields_7" placeholder="Dataset Name">
                                <button 
                                    type="button" 
                                    class="btn btn-secondary selectButon" 
                                    (click)="clickOpenFile()"
                                    >
                                    Open
                                </button>
                            </div>

                            <div *ngIf="showSelectorDetailArea" class="fileSelectorDetailArea"
                                [style.grid-column-start]='1'
                                [style.grid-column-end]="selectorDetailColumnEnd"
                                [style.grid-row-start]='7'
                                [style.grid-row-end]='20'
                                >
                                <clr-tabs>

                                    <clr-tab>
                                        <button clrTabLink id="link1" class="tabHeadings" >Columns</button>
                                        <clr-tab-content id="content1" *clrIfActive>
                                            <clr-datagrid>
                                                <clr-dg-column (click)="clickField('id')">
                                                    ID
                                                </clr-dg-column>
                                                <clr-dg-column>Name</clr-dg-column>
                                                <clr-dg-column>Type</clr-dg-column>
                                                <clr-dg-column>Format</clr-dg-column>
                                                <clr-dg-column>Filter</clr-dg-column>
                                                <clr-dg-column>Calc</clr-dg-column>
                                                <clr-dg-column>Order</clr-dg-column>
                                                <clr-dg-column>Hide</clr-dg-column>

                                                <clr-dg-row *ngFor="let field of fields">
                                                    <clr-dg-cell>{{field.id}}</clr-dg-cell>
                                                    <clr-dg-cell>{{field.name}}</clr-dg-cell>
                                                    <clr-dg-cell>{{field.type}}</clr-dg-cell>
                                                    <clr-dg-cell>{{field.format}}</clr-dg-cell>
                                                    <clr-dg-cell>{{field.filter}}</clr-dg-cell>
                                                    <clr-dg-cell>{{field.calc}}</clr-dg-cell>
                                                    <clr-dg-cell>{{field.order}}</clr-dg-cell>
                                                </clr-dg-row>

                                                <clr-dg-footer>{{fields.length}} fields</clr-dg-footer>
                                            </clr-datagrid>
                                        </clr-tab-content>
                                    </clr-tab>

                                    <clr-tab>
                                        <button clrTabLink id="link1" class="tabHeadings">Metadata</button>
                                        <clr-tab-content id="content1" *clrIfActive>
                                            Information about the fields:
                                            <clr-datagrid>
                                                <clr-dg-column>Name</clr-dg-column>
                                                <clr-dg-column>Type</clr-dg-column>
                                                <clr-dg-column>Description</clr-dg-column>
                                                <clr-dg-column>Key?</clr-dg-column>
                                                <clr-dg-column>ExplainedBy</clr-dg-column>

                                                <clr-dg-row *ngFor="let field of fieldsMetadata">
                                                    <clr-dg-cell>{{field.name}}</clr-dg-cell>
                                                    <clr-dg-cell>{{field.type}}</clr-dg-cell>
                                                    <clr-dg-cell>{{field.description}}</clr-dg-cell>
                                                    <clr-dg-cell>{{field.keyField}}</clr-dg-cell>
                                                    <clr-dg-cell>{{field.explainedBy}}</clr-dg-cell>
                                                </clr-dg-row>
                                            </clr-datagrid>
                                        </clr-tab-content>
                                    </clr-tab>

                                    <clr-tab>
                                        <button clrTabLink id="link1" class="tabHeadings"[class.disabled]="!canUse">
                                            Transformation</button>
                                        <clr-tab-content id="content1" *clrIfActive>
                                            Selected type and specific transformation to add to the list below:
                                            <div class="dropdown"  #typeTransformationDropdown>
                                                <button type="button" class="dropdown-toggle btn btn-link"
                                                    (click)="clickTypeTransformation()">
                                                    Select Type
                                                    <clr-icon shape="caret down"></clr-icon>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <h4 class="dropdown-header">Select a Type</h4>
                                                    <button type="button" class="dropdown-item">Standard</button>
                                                    <div class="dropdown-divider"></div>
                                                    <button type="button" class="dropdown-item">R Extensions</button>
                                                    <button type="button" class="dropdown-item">Python Extensions</button>
                                                </div>
                                            </div>
                                            <div class="dropdown" #transformations>
                                                <button type="button" class="dropdown-toggle btn btn-link"
                                                    (click)="clickTransformation()">
                                                    Select transformation
                                                    <clr-icon shape="caret down"></clr-icon>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <h4 class="dropdown-header">Select transformation</h4>
                                                    <button type="button" class="dropdown-item">Transpose rows and columns</button>
                                                    <button type="button" class="dropdown-item">Add field</button>
                                                    <button type="button" class="dropdown-item">Calculated field</button>
                                                    <button type="button" class="dropdown-item">Etc</button>
                                                </div>
                                            </div>
                                            <p>Or, select a tranformation list previously created:</p>
                                                <div class="dropdown">
                                                    <button type="button" class="dropdown-toggle btn btn-link"
                                                        >
                                                        Transformation List
                                                        <clr-icon shape="caret down"></clr-icon>
                                                    </button>
                                                    <div class="dropdown-menu">
                                                        <h4 class="dropdown-header">Select a Transformation</h4>
                                                        <button type="button" class="dropdown-item">Default</button>
                                                        <button type="button" class="dropdown-item">Management Formatted</button>
                                                    </div>
                                                </div>
                                            <br>
                                            Optional Name: <input type="text" id="formFields_7" placeholder="Transformation Name">
                                            <br>

                                            <br>
                                            <clr-datagrid>
                                                <clr-dg-column>Nr</clr-dg-column>
                                                <clr-dg-column>Name</clr-dg-column>
                                                <clr-dg-column>Description</clr-dg-column>

                                                <clr-dg-row *ngFor="let ds of transformation"  [clrDgItem]="ds">
                                                    <clr-dg-cell>
                                                        <clr-icon shape="arrow" size="16"></clr-icon>
                                                        <clr-icon shape="arrow" size="16" dir="down"></clr-icon>
                                                        <clr-icon shape="times" size="16"></clr-icon>
                                                        {{ds.id}}
                                                    </clr-dg-cell>
                                                    <clr-dg-cell>{{ds.name}}</clr-dg-cell>
                                                    <clr-dg-cell>
                                                        {{ds.description}}
                                                    </clr-dg-cell>
                                                </clr-dg-row>

                                                <clr-dg-footer>{{transformation.length}} transformations</clr-dg-footer>
                                            </clr-datagrid>

                                        </clr-tab-content>
                                    </clr-tab>

                                    <clr-tab>
                                        <button clrTabLink id="link1" class="tabHeadings">Summary</button>
                                        <clr-tab-content id="content1" *clrIfActive>
                                            Information about the dataset:
                                            <p>* Data Quality notes</p>
                                            <p>* Table Description</p>
                                            <p>* Nr records</p>
                                            <p>* IF key fields have been marked, some cardinality / summary graphs
                                                will be shown to the shape of the data, bins, frequency distribution,
                                                etc to help understand the data
                                            </p>
                                        </clr-tab-content>
                                    </clr-tab>

                                    <clr-tab>
                                        <button clrTabLink id="link1" class="tabHeadings">Export</button>
                                        <clr-tab-content id="content1" *clrIfActive>
                                            Export the dataset to an external file:  -> Should we??
                                            <p>Format: <input type="text" id="formFields_7" placeholder="CSV / Text"></p>
                                            <p>Name: <input type="text" id="formFields_7" placeholder="File Name"></p>
                                            <button class="btn btn-secondary">Export</button>
                                        </clr-tab-content>
                                    </clr-tab>

                                </clr-tabs>
                            </div>

                            <div *ngIf="!showSelectField  &&  showSelectorDetailArea" class="fileSelectFieldHelp">
                                Click on a column heading to see its detail
                            </div>
                            <div *ngIf="showSelectField" class="fileSelectField">
                                Info for <b>TradeData</b>
                                Description: bla-bla-bla
                                Key: T/F
                                ExplainedBy: BarChart, TradeDate, Value
                                Transformation
                                Data Quality notes
                                Nr records
                                * IF key fields have been marked, some cardinality / summary 
                                    graphs will be shown to the shape of the data, bins, 
                                    frequency distribution, etc to help understand the data
                                Local Name: <input type="text" id="formFields_7" placeholder="Enter Name">
                                Type: <b>Number</b>  Change to:
                                <div class="select">
                                    <select id="selects_3">
                                        <option>Boolean (true/false)</option>
                                        <option>Date (2014/07/31)</option>
                                        <option>DateTime (2014/07/31 12:41:04)</option>
                                        <option>String ('May West')</option>
                                    </select>
                                </div>
                                Format: <b></b>  Change to: 
                                <div class="select">
                                        <select id="selects_3">
                                            <option>Number</option>
                                            <option>Monetary</option>
                                            <option>YYYY/MM/DD</option>
                                        </select>
                                    </div>
                                    Filter: <b></b>  Change to: <input type="text" id="formFields_7" placeholder="Filter text">
                                Calculation: <b></b>  Change to: <input type="text" id="formFields_7" placeholder="Enter Formula">
                                Order: <b></b>  Change to: <input type="text" id="formFields_7" placeholder="Order (1 Asc)">
                                Hide: <b></b>  Change to:
                                <div class="select">
                                        <select id="selects_3">
                                            <option>True</option>
                                            <option>False</option>
                                        </select>
                                    </div>
    
                                <div class="select">
                                    <select id="selects_3">
                                        <option>New York</option>
                                        <option>San Francisco</option>
                                        <option>Austin</option>
                                        <option>Paris</option>
                                        <option>Seattle</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Default/Stacked radio button group</label>
                                    <div class="radio">
                                        <input type="radio" name="gridRadio
                                        s" id="checkrads_9">
                                        <label for="checkrads_9">Radio option 1</label>
                                    </div>
                                    <div class="radio">
                                        <input type="radio" name="gridRadios" id="checkrads_10" checked>
                                        <label for="checkrads_10">Radio option 2 (checked)</label>
                                    </div>
                                </div>                                
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</div>


    
    